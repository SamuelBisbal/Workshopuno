DROP SCHEMA IF EXISTS PRIMERWORKSHOPBISBAL;
CREATE SCHEMA IF NOT EXISTS PRIMERWORKSHOPBISBAL;
USE PRIMERWORKSHOPBISBAL;

-- TABLA CLIENTE
CREATE TABLE IF NOT EXISTS CLIENTE (
ID_CLIENTE INT auto_increment,
DOCUMENTO INT NOT NULL,
NOMBRE VARCHAR (45) NOT NULL,
APELLIDO VARCHAR (45) NOT NULL,
TELEFONO VARCHAR (15) NOT NULL,
E_MAIL  VARCHAR (45) NOT NULL,
FECHA_D_R DATE NOT NULL,
primary key(ID_CLIENTE)
);


-- TABLA PLANES
CREATE TABLE IF NOT EXISTS PLANES (
ID_PLANES INT auto_increment,
CODIGO VARCHAR (15) NOT NULL,
TARIFA DECIMAL (5,2) NOT NULL,
MINUTOS DECIMAL (5,2) NOT NULL,
GB INT NOT NULL,
ID_CLIENTE INT,
primary key(ID_PLANES),
FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTE (ID_CLIENTE)
);


-- TABLA FACTURACION
CREATE TABLE IF NOT EXISTS FACTURACION (
ID_FACTURACION INT auto_increment,
SUBTOTAL DOUBLE NOT NULL,
IVA DOUBLE NOT NULL,
TOTAL DOUBLE NOT NULL,
ID_CLIENTE INT,
primary key(ID_FACTURACION),
FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTE (ID_CLIENTE)
);


-- TABLA UBICACION
CREATE TABLE IF NOT EXISTS UBICACION (
ID_UBICACION INT auto_increment,
DEPARTAMENTO VARCHAR (15) NOT NULL,
ID_CLIENTE INT,
primary key(ID_UBICACION),
FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTE (ID_CLIENTE)
);


-- TABLA COBERTURA
CREATE TABLE IF NOT EXISTS COBERTURA (
ID_COBERTURA INT auto_increment,
V_SUBIDA DECIMAL (4,2) NOT NULL,
V_BAJADA DECIMAL (4,2) NOT NULL,
ID_UBICACION INT,
primary key(ID_COBERTURA),
FOREIGN KEY (ID_UBICACION) REFERENCES UBICACION (ID_UBICACION)
);


-- TABLA TIPO_DE_CLIENTE
CREATE TABLE IF NOT EXISTS TIPO_DE_CLIENTE (
ID_T_D_CLIENTE INT auto_increment,
DEPARTAMENTO VARCHAR (15) NOT NULL,
ID_CLIENTE INT,
primary key(ID_T_D_CLIENTE),
FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTE (ID_CLIENTE)
);


-- TABLA BENEFICIOS
CREATE TABLE IF NOT EXISTS BENEFICIOS (
ID_BENEFICIOS INT auto_increment,
PREMIO VARCHAR (20) NOT NULL,
ID_CLIENTE INT,
primary key(ID_BENEFICIOS),
FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTE (ID_CLIENTE)
);


-- TABLA NPS
CREATE TABLE IF NOT EXISTS NPS (
ID_NPS INT auto_increment,
CALIFICACION INT NOT NULL,
COMENTARIO VARCHAR (45) NOT NULL, 
ID_CLIENTE INT,
primary key(ID_NPS),
FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTE (ID_CLIENTE)
);
